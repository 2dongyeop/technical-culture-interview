## ThreadLocal이란? 어떤 상황에서 유용한가요?

<br/>

> 주요 개념
>
- `ThreadLocal`은 **스레드 간에 독립적인 변수**를 제공하는 클래스
- 즉, **각 스레드마다 별도의 변수를 갖도록** 하여 **스레드 안전성**을 보장
    - 다른 스레드가 해당 변수를 변경할 수 없고, 각 스레드는 자신만의 `ThreadLocal` 값을 사용 가능

<br/>

> **주요 특징:**
>
- **스레드 독립성:** `ThreadLocal`에 저장된 값은 오직 해당 스레드에서만 접근할 수 있으며, 다른 스레드의 영향을 받지 않습니다.
- **메모리 관리:** 각 스레드는 자신만의 로컬 메모리 공간을 가지므로 **메모리 낭비**가 발생할 수 있습니다.
    - 스레드가 종료될 때, 로컬 메모리도 자동으로 해제됩니다.

<br/>

> **언제 사용하나요?**
>
- **스레드마다 독립적인 데이터**가 필요할 때 유용합니다.
    - 예를 들어, **로그 추적기**, **사용자 세션 정보**, **트랜잭션 관리** 등에 사용
    - **→ 실제 SecurityContext에 Authentication 객체를 저장할 때 사용하곤 했음.**
- 각 스레드가 **자신의 로컬 상태**를 유지해야 할 때 (예: 데이터베이스 연결을 스레드별로 다르게 유지) 유용
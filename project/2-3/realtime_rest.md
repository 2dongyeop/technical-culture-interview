## 실시간 알림임에도 REST 방식을 선택한 이유는 무엇인가요?

<br/>

> WebSocket, MQTT 배제 이유
>

- WebSocket
    - 현재 요구사항은 실시간 알림으로, 서버측에서 클라이언트측으로 일방적인 데이터 전송이 요구됨
    - WebSocket은 양방향 통신이라는 점에서, 요구사항에 과하다고 생각하여 배제
- MQTT
    - 기존에 IoT 기기로부터 측정한 산소포화도/맥박수를 MQTT를 이용해 수신하였기에, 후보군에 넣었지만, 이때 사용되는 MQTT 서버는 파트너사 측에서 운영하는 서버로 구성됨을 파악.
    - 따라서, 당사 측의 요구사항일 뿐인 실시간 알림을 구현하기 위해서는 직접 MQTT Broker 서버를 구축/운영해야 함. → 오버스펙에 해당되어 배제

<br/>

> SSE를 배제한 이유
>

- 사실상 단방향 데이터 전송에 해당되는 요구사항에 가장 적합한 선택지이지만,
- REST 방식과 달리 클라이언트가 요청을 보낸 이후, 계속해서 연결을 가지고 있다는 점을 고려해야 했습니다.
    - JPA의 OSIV 옵션이 켜져 있다면, 응답을 완료할 때까지 DB 커넥션을 반납하지 않는 문제가 발생.
    - 기존 서비스들을 검토한 결과, 모두 OSIV 옵션이 활성화되어 있는 것을 확인(기본 값이 활성화)
    - 단순히 알림 하나를 위해 OSIV 옵션을 비활성화하고, 기존 기능들이 정상 동작하는지 모두 재검토하는게 오버 스펙이라고 판단. (추가로 인적/시간적 리소스 또한 부족)
- 따라서 약간의 시간차가 발생하더라도, DB에 알림 정보를 저장한 후 조회하여 보호자에게 알림이 울리도록 지정.
- 아쉬운 점으로는 클라이언트간 실시간 데이터 전송이 가능한 WebRTC라는 기술을 당시에 알지 못하여, 선택지 중 하나로 고려하지 못한 점이 있습니다.
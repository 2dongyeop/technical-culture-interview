## SQL vs NoSQL , 하이브리드 아키텍처 설계

> **기본 개념 차이**
>

- **SQL (Relational Database, RDBMS)**: 관계형 데이터베이스로 테이블 기반 구조를 사용하며, 데이터 간의 관계를 명확히 정의.
- **NoSQL (Non-Relational Database)**: 비관계형 데이터베이스로 문서, 키-값, 컬럼 패밀리, 그래프 등의 다양한 모델을 제공.

<br/>

> **특징 비교**
>

| 특성         | SQL (RDBMS)               | NoSQL (Non-RDBMS)                      |
|------------|---------------------------|----------------------------------------|
| **스키마**    | 고정된 스키마 (Schema-on-Write) | 동적 스키마 (Schema-on-Read)                |
| **확장성**    | 수직 확장 (Scale-up)          | 수평 확장 (Scale-out)                      |
| **트랜잭션**   | ACID 지원 (강력한 일관성)         | BASE 모델 (Eventually Consistent)        |
| **데이터 모델** | 관계형 모델 (테이블)              | 문서, 키-값, 컬럼 패밀리, 그래프                   |
| **쿼리 언어**  | SQL                       | 다양한 API 및 쿼리 언어 (MongoDB Query, CQL 등) |

> SQL (RDBMS) **장단점**
>

- **장점**
    - **강력한 일관성 보장**: 트랜잭션이 ACID를 지원하여 금융, 결제 시스템에 적합.
    - **복잡한 쿼리 지원**: JOIN, Aggregation을 사용해 복잡한 데이터 관계를 쉽게 조회 가능.
    - **표준화된 SQL 사용**: SQL이 널리 사용되며 유지보수와 협업이 쉬움.
- **단점**
    - **확장성 한계**: 수직 확장이 기본이므로 큰 규모의 데이터를 처리하는 데 한계.
    - **스키마 변경 어려움**: 컬럼 추가/삭제가 어렵고 마이그레이션이 필요함.

<br/>

> NoSQL (Non-RDBMS) 장단점
>

- **장점**
    - **유연한 스키마**: 동적 데이터 구조를 가질 수 있어 빠르게 변경 가능.
    - **수평 확장 용이**: 분산 환경에서 성능과 확장성을 높이기 좋음.
    - **대량 데이터 처리에 강함**: 빅데이터, 실시간 로그 처리에 적합.
- **단점**
    - **일관성 보장 약함**: Eventually Consistent 모델을 따르는 경우 실시간 정확성이 요구되는 서비스에서 위험할 수 있음.
    - **표준 쿼리 언어 부족**: SQL처럼 범용적인 언어가 없어 학습 비용이 발생.

<br/>

> 적합한 사용처
>

- **SQL이 적합한 경우**
    - 결제 시스템, 금융 서비스 (강한 일관성 필요)
    - ERP, CRM 등 구조적인 데이터 관리
    - 전통적인 웹 애플리케이션 (예: 전자상거래, 블로그 등)
- **NoSQL이 적합한 경우**
    - 대규모 트래픽을 처리하는 서비스 (예: SNS, IoT 데이터 수집)
    - 실시간 로그 분석, 빅데이터 처리
    - 유연한 스키마가 필요한 서비스 (예: 사용자 맞춤형 추천 시스템)

<br/>

> SQL과 NoSQL을 혼합하여 사용하는 하이브리드 아키텍처를 고려해본 적 있나요?
>

**대규모 트래픽이 발생하는 서비스에서 성능과 확장성을 유지하면서도 데이터의 일관성을 보장해야 할 때** 유용

1. 하이브리드 아키텍처 적용 사례
    - **트랜잭션 시스템 + 캐싱 (SQL + NoSQL)**
        - **예시:** 전자상거래 시스템
        - **설계:**
            - 주문, 결제 데이터는 **SQL (MySQL, PostgreSQL 등)** 에 저장 (ACID 보장 필요)
            - 자주 조회되는 제품 정보, 사용자 세션 데이터는 **NoSQL (Redis, MongoDB)** 에 캐싱
        - **이점:**
            - 주문 데이터는 정확성을 유지
            - 제품 데이터는 빠른 조회 가능
    - **로그 저장 및 분석 (SQL + NoSQL)**
        - **예시:** APM (Application Performance Monitoring) 시스템
        - **설계:**
            - 애플리케이션의 기본 메타데이터는 **SQL (PostgreSQL, MySQL)** 에 저장
            - 실시간 로그, 이벤트 데이터는 **NoSQL (HBase, Elasticsearch, Cassandra, MongoDB 등)** 에 저장

<br/>

2. 하이브리드 아키텍처의 장단점
    - **장점**
        - **SQL의 ACID 트랜잭션 보장 + NoSQL의 확장성 및 성능 극대화**
        - **핵심 데이터는 SQL, 부가적인 빠른 데이터 처리는 NoSQL**
        - **최적화된 비용 절감 가능 (핫 데이터만 NoSQL에서 운영)**
    - **단점**
        - **운영 및 유지보수 복잡도 증가**
        - **데이터 정합성 유지 문제 (동기화 전략 필요)**
        - **두 개의 기술을 모두 이해해야 하는 러닝 커브**
## Spring DI, IoC, AOP

<br/>

> DI : Dependency Injection, 의존성 주입
>

- **객체 간의 의존 관계를 직접 관리하지 않고, Spring 컨테이너가 자동으로 주입하는 개념**
- 3가지 방식(Setter Injection, Constructor Injection, Field Injection)이 존재

<br/>

> IoC : Inversion of Control, 제어의 역전
>

- **객체의 생성 및 생명주기 관리를 개발자가 직접 하지 않고, Spring 컨테이너가 대신 관리하는 개념**

<br/>

> AOP : Aspect-Oriented Programming, 관점 지향 프로그래밍
>

- **공통 관심사를 분리하여 코드 중복을 줄이고, 핵심 비즈니스 로직과 분리하는 프로그래밍 기법**
- 주로 **로깅, 트랜잭션, 보안, 성능 모니터링 등의 기능을 분리할 때 사용**

<br/>

### AOP 기본 개념

- AOP (Aspect-Oriented Programming)는 관점 지향 프로그래밍으로, 주로 공통 관심사(cross-cutting concerns)를 처리하는 방식입니다.
- AOP는 소프트웨어 개발에서 모듈화를 더욱 효과적으로 만들기 위해 도입된 개념으로, 주로 로깅, 보안, 트랜잭션 관리, 캐싱과 같은 반복적인 기능을 처리하는 데 사용됩니다.

<br/>

### Spring AOP의 내부 구현

- Spring AOP는 프록시 패턴을 사용하여 Aspect를 적용합니다.
    - 프록시 패턴은 실제 객체를 감싸는 대리 객체를 만들어서, 실제 객체의 기능에 부가적인 기능을 삽입하는 방식입니다.

- JDK 동적 프록시: 인터페이스 기반의 프록시를 생성하여, 인터페이스를 구현하는 객체에 AOP를 적용합니다.
- CGLIB: 인터페이스가 없는 클래스에 대해, 자바의 바이트코드를 조작하여 프록시를 생성합니다. 클래스 기반의 프록시입니다.

<br/>

### 핵심 동작 흐름

1. 메서드 호출:
    - 클라이언트 코드가 실제 메서드를 호출하면, 그 호출은 프록시 객체로 전달됩니다.
2. 프록시 객체:
    - 프록시 객체는 Advice를 적용하는 시점에서 실제 메서드 호출 전후로 추가적인 로직을 실행합니다.
    - 예를 들어, 메서드 실행 전후로 로깅을 추가하거나, 트랜잭션을 처리할 수 있습니다.
3. Join Point:
    - 프록시 객체 내부에서 Join Point에 맞춰서 Advice를 실행합니다.
    - 예를 들어, 메서드 실행 전후로 Advice가 적용됩니다.

<br/>

### AOP의 장점

1. 모듈화: 공통 관심사(예: 로깅, 보안, 트랜잭션 관리)를 분리하여 코드의 중복을 줄이고 유지보수를 용이하게 만듭니다.
2. 재사용성: 동일한 기능을 여러 곳에서 사용할 수 있게 해 줍니다.
3. 유연성: 다양한 방식으로 공통 기능을 적용할 수 있으며, 기존의 코드에 영향을 주지 않고도 추가하거나 변경할 수 있습니다.